/*! Built with http://stenciljs.com */
const{h:t}=window.stencilrouter;import{b as e}from"./chunk-30abd2e3.js";import{a as r}from"./chunk-fea4bd05.js";import"./chunk-cd950d93.js";var o=function(t,e,r,o){return new(r||(r=Promise))(function(s,i){function n(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?s(t.value):new r(function(e){e(t.value)}).then(n,c)}l((o=o.apply(t,e||[])).next())})};function s(t){return"stencil-route"===t.tagName.toLocaleLowerCase()}class i{constructor(){this.group=window.crypto?([1e7].toString()+-1e3.toString()+-4e3.toString()+-8e3.toString()+-1e11.toString()).replace(/[018]/g,function(t){return(t^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}):((1e17*Math.random()).toString().match(/.{4}/g)||[]).join("-"),this.subscribers=[]}componentWillLoad(){null!=this.location&&this.regenerateSubscribers(this.location)}regenerateSubscribers(t){return o(this,void 0,void 0,function*(){if(null==t)return;let e=-1;if(this.subscribers=Array.prototype.slice.call(this.el.children).filter(s).map((o,s)=>{const i=function(e,s,i){return r(t.pathname,{path:o.url,exact:o.exact,strict:!0})}();return i&&-1===e&&(e=s),{el:o,match:i}}),-1===e)return;if(this.activeIndex===e)return void(this.subscribers[e].el.match=this.subscribers[e].match);this.activeIndex=e;const o=this.subscribers[this.activeIndex];this.scrollTopOffset&&(o.el.scrollTopOffset=this.scrollTopOffset),o.el.group=this.group,o.el.match=o.match,o.el.componentUpdated=(t=>{this.queue.write(()=>{this.subscribers.forEach((t,e)=>{if(t.el.componentUpdated=void 0,e===this.activeIndex)return t.el.style.display="";this.scrollTopOffset&&(t.el.scrollTopOffset=this.scrollTopOffset),t.el.group=this.group,t.el.match=null,t.el.style.display="none"})}),this.routeViewsUpdated&&this.routeViewsUpdated(Object.assign({scrollTopOffset:this.scrollTopOffset},t))})})}render(){return t("slot",null)}static get is(){return"stencil-route-switch"}static get properties(){return{el:{elementRef:!0},group:{type:String,attr:"group",reflectToAttr:!0},location:{type:"Any",attr:"location",watchCallbacks:["regenerateSubscribers"]},queue:{context:"queue"},routeViewsUpdated:{type:"Any",attr:"route-views-updated"},scrollTopOffset:{type:Number,attr:"scroll-top-offset"}}}}e.injectProps(i,["location","routeViewsUpdated"]);export{i as StencilRouteSwitch};